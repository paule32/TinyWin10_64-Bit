;---------------------------------------------------
; \file  windos.inc
; \note  (c) 2025 by Jens Kallup - paule32
;        all rights reserved.
;
; \desc  Create a tiny MS-Windows 11 64-bit Pro EXE.
;---------------------------------------------------
print_string:
    ; RCX = pointer auf String
    push    rcx
    mov     ecx, -11                ; STD_OUTPUT_HANDLE
    RELCALL GetStdHandle
    mov     r9d, 0                  ; lpReserved = NULL
    mov     r8d, 0                  ; lpNumberOfCharsWritten = NULL
    pop     rcx                     ; rcx = lpBuffer
    mov     rdx, rcx                ; rdx = lpBuffer
    mov     rcx, rcx                ; (rcx enth채lt bereits den Pointer, aber f체r Klarheit)
    call    strlen                  ; R체ckgabewert in RAX
    mov     r8, rax                 ; r8 = L채nge des Strings
    RELCALL WriteConsoleA
    ret
 